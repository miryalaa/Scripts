Short Description

VMware Tools cleanup and upgrade testing on non-production servers via PowerShell script using Tanium package.

Description

This change request is to perform VMware Tools version validation, cleanup, and installation testing on non-production servers.
The process involves running a PowerShell script distributed through a Tanium package that will:

Check if VMware Tools version 13.0.5 is installed on VMware environment servers.

If not, uninstall the existing version, perform a reboot, and then install VMware Tools 13.0.5.

After installation, clean up old VMware Tools-related registry entries.

For AWS servers, the script will perform a cleanup of any existing VMware Tools application and related registry keys, as VMware Tools should not be running on AWS instances.

This activity ensures consistent VMware Tools deployment, environment compliance, and removal of legacy or unnecessary components.

Justification

To ensure all VMware environment servers are standardized to VMware Tools version 13.0.5.

To remove outdated or unsupported VMware Tools versions and associated registry remnants.

To clean up AWS servers where VMware Tools should not be present.

To validate automated PowerShell-based remediation through Tanium in a controlled non-production environment before production rollout.

Implementation Plan

Pre-checks

Verify Tanium package deployment readiness.

Confirm server list and classifications (VMware vs AWS).

Ensure system backups and snapshots are available.

Execution

Deploy PowerShell script via Tanium to target non-production servers.

For VMware environment:

Check if VMware Tools 13.0.5 is installed.

If not, uninstall the existing version.

Reboot the server.

Install VMware Tools 13.0.5.

Clean up old VMware Tools-related registry entries.

For AWS environment:

Uninstall any VMware Tools instance if present.

Clean up all related registry entries.

Post-checks

Validate successful installation of VMware Tools 13.0.5 on VMware servers.

Validate VMware Tools absence on AWS servers.

Review Tanium and system logs for errors.

Verify server stability post-reboot.

Risk and Impact Analysis

Risks:

Potential failure during uninstall/install process may cause temporary service disruption.

Reboot during installation could affect ongoing processes.

Registry cleanup, if interrupted, could leave partial remnants requiring manual cleanup.

Impact:

Limited to non-production systems only.

Minimal business impact expected since the change is performed outside production and within maintenance windows.

No data loss expected.

Mitigation:

Perform full backups/snapshots before execution.

Conduct testing in phases (limited subset of servers first).

Monitor systems post-change for stability.

Backout Plan

In case of installation or post-reboot issues:

Restore server snapshot or system backup taken prior to change.

Reinstall the previous working version of VMware Tools (if required).

Revert any registry changes using the backed-up registry file created by the script.

Validate connectivity and system functionality.

Test Plan

Verify the Tanium deployment job completes successfully.

Validate:

VMware servers have VMware Tools 13.0.5 installed and running.

AWS servers have VMware Tools completely removed.

Confirm server reboots completed and systems are reachable.

Check event logs for installation/uninstallation success messages.

Review registry to confirm old entries have been cleaned up.

Conduct smoke tests to ensure application and OS functionality remains intact.
